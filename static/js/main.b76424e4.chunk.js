(this["webpackJsonpip-address-tracker_fmchallenge"]=this["webpackJsonpip-address-tracker_fmchallenge"]||[]).push([[0],[,,,,,,,,function(t,e,n){t.exports={container:"SearchBar_container__2mcb9"}},,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),c=n(7),s=n.n(c),i=(n(13),n(2)),o=(n(14),n(8)),l=n.n(o),u=n.p+"static/media/icon-arrow.2eaaa5ee.svg",d=n(0),h=function(t){var e=Object(a.useState)(""),n=Object(i.a)(e,2),r=n[0],c=n[1];return Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),t.onSearch(r)},children:Object(d.jsxs)("div",{className:l.a.container,children:[Object(d.jsx)("input",{type:"text",placeholder:"Search for any IP address or domain",value:r,onChange:function(t){c(t.target.value)}}),Object(d.jsx)("button",{type:"submit",children:Object(d.jsx)("img",{alt:"arrow",src:u})})]})})},j=(n(16),n.p+"static/media/icon-arrow-black.51bb1080.svg"),b=function(t){var e=Object(a.useRef)(null),n=t.info,r=n.ip,c=n.location,s=n.timezone,i=n.isp;return Object(d.jsx)("div",{className:"collapsible open",ref:e,children:Object(d.jsxs)("dl",{className:"collapsible-bg",children:[Object(d.jsxs)("div",{className:"dataItem",children:[Object(d.jsx)("dt",{children:"ip address"}),Object(d.jsx)("dd",{children:r})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"dataItem","data-pivot":!0,children:[Object(d.jsx)("dt",{children:"location"}),Object(d.jsx)("dd",{children:c})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"dataItem",children:[Object(d.jsx)("dt",{children:"timezone"}),Object(d.jsx)("dd",{children:s})]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"dataItem",children:[Object(d.jsx)("dt",{children:"isp"}),Object(d.jsx)("dd",{children:i})]}),Object(d.jsx)("div",{className:"collapsible-btn",onClick:function(){!function(t){for(var e=t.firstElementChild,n=e.offsetHeight,a=e.children,r=[],c=0;c<a.length;c++)r.push(a[c].offsetHeight);var s=r[2]+r[7],i=1/(n/s);e.style.setProperty("--scale",i),t.style.setProperty("--translate",-(n-s)+"px");for(var o=0,l=0;o<a.length-1;o++)a[o].style.setProperty("--translate",-l+"px"),l+=r[o]}(e.current),e.current.classList.toggle("open")},children:Object(d.jsx)("img",{src:j,alt:"arrow"})})]})})},f=n(3),p=n.n(f),O=function(t){var e=t.coord;return function(t,e){var n=Object(a.useRef)(),r="v9ZdPTmc692sQ8sJaa1F";Object(a.useEffect)((function(){if(!n.current){var a=p.a.map("map",{zoomControl:!1}),c=p.a.icon({iconUrl:"icon-location.svg",iconAnchor:[23,56]}),s=p.a.marker([t,e],{icon:c}).addTo(a);p.a.tileLayer("https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?{token}",{token:"key=".concat(r)}).addTo(a),n.current={map:a,marker:s}}n.current.map.setView([t,e],16),n.current.marker.setLatLng([t,e])})),Object(a.useEffect)((function(){return function(){n.current.map.remove(),n.current=void 0}}),[])}((e=void 0===e?{lat:0,lng:0}:e).lat,e.lng),Object(d.jsx)("div",{id:"map",style:{height:"100%"}})},m=(n(17),"MOUNTING"),v="MOUNTED",g="UNMOUNTING",x="UNMOUNTED",y=function(t){var e=t.bg,n=void 0===e?"black":e,r=t.show,c=void 0!==r&&r,s=t.children,o=n,l=Object(a.useState)({status:x,animationType:"slide-in"}),u=Object(i.a)(l,2),h=u[0],j=u[1];h.status===x&&c&&j(h={status:m,animationType:"slide-in"}),h.status!==v||c||j(h={status:g,animationType:"slide-out"}),h.status===m&&(c=!0),h.status===g&&(c=!0);return c?Object(d.jsx)("div",{className:"snackbar",style:{background:o,animation:"300ms ".concat(h.animationType," 1 forwards")},onAnimationEnd:function(){var t=h.status===m?v:x;j({status:t,animationType:h.animationType})},children:Object(d.jsx)("div",{className:"container",children:s})}):null},C=function(t){var e=t.show;return Object(d.jsx)(y,{bg:"#1b1b1b",show:e,children:"Retriving Data..."})},N=function(t){var e=t.show,n=t.children;return Object(d.jsx)(y,{bg:"#f22c2c",show:e,children:n})},T=n(4),A={hasNotOnlyDigitAndDot:/[^0-9.]/,hasNotOnlyHexAndColon:/[^A-Fa-f0-9:]/,startOrEndWithColon:/^:[A-Fa-f0-9]|[A-Fa-f0-9]:$/,hasMoreThanOneDoubleColon:/::.*::/,hasThreeOrMoreConsecutiveColon:/:{3,}/,hasDoubleColon:/::/,hasMoreThanSixColon:/(.*:){7}/,hasEightValidSegments:/^[A-Fa-f0-9]{1,4}(:[A-Fa-f0-9]{1,4}){7}$/},w=function(t,e,n){return t<e||t>n},F=function(t){if(t.length>15)return!1;if(A.hasNotOnlyDigitAndDot.test(t))return!1;var e=t.split(".").map((function(t){return parseInt(t)}));return 4===e.length&&function(t,e,n){var a,r=Object(T.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(isNaN(c)||w(c,e,n))return!1}}catch(s){r.e(s)}finally{r.f()}return!0}(e,0,255)},S=function(t){return function(t){var e=8-t.split(":").length+1,n=new Array(e).fill("0").join(":");return t.replace(/\$/,n)}(t=(t=t.replace(/::/,":$:")).replace(/^:|:$/g,""))},k={hasForbiddenChars:/[^A-Za-z0-9-]/,hasForbiddenHyphenPosition:/^-|-$/,hasAlpha:/[A-Za-z-]/,hasUnicodeChars:/[^\x00-\x7f]/},D=function(t){return!(0===t.length||t.length>63)&&(!k.hasForbiddenChars.test(t)&&!k.hasForbiddenHyphenPosition.test(t))},E=function(t){if("string"!==typeof t)return!1;if(0===t.length||t.length>255)return!1;k.hasUnicodeChars.test(t)&&(t=function(t){t=t.normalize("NFC");try{return new URL("http://".concat(t)).host}catch(e){return t}}(t));var e,n=t.split(".");if(""===(e=n)[e.length-1]&&n.pop(),!function(t){return!!k.hasAlpha.test(t)&&D(t)}(n.pop()))return!1;var a,r=Object(T.a)(n);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(!D(c))return!1}}catch(s){r.e(s)}finally{r.f()}return!0};function I(){var t=Object(a.useState)(""),e=Object(i.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),h=d[0],j=d[1],b=Object(a.useState)(!1),f=Object(i.a)(b,2),p=f[0],O=f[1],m=Object(a.useState)(""),v=Object(i.a)(m,2),g=v[0],x=v[1],y=Object(a.useRef)({stale:!1});return Object(a.useEffect)((function(){var t,e,a={stale:!1};if(y.current.stale=!0,y.current=a,""===n&&(t="ipAddress="),!F(n)&&((e=n).length>39||A.hasNotOnlyHexAndColon.test(e)||A.startOrEndWithColon.test(e)||A.hasMoreThanOneDoubleColon.test(e)||A.hasThreeOrMoreConsecutiveColon.test(e)||A.hasMoreThanSixColon.test(e)&&A.hasDoubleColon.test(e)||(A.hasDoubleColon.test(e)&&(e=S(e)),!A.hasEightValidSegments.test(e)))||(t="ipAddress=".concat(n)),E(n)&&(t="domain=".concat(n)),!t)return O(!0),void x("Invalid Input");j(!0),O(!1),fetch("".concat("https://geo.ipify.org/api/v1","?apiKey=").concat("at_qGACrnW1SbLZQvcqMbXPpwGFRwJW4","&").concat(t)).then((function(t){if(!t.ok)throw t.statusText;return t.json()})).then((function(t){a.stale||(j(!1),l({ip:t.ip,location:t.location.city,timezone:"UTC ".concat(t.location.timezone),isp:t.isp,coord:{lat:t.location.lat,lng:t.location.lng}}))})).catch((function(t){if(!a.stale){var e="Failed to fetch"===t.message?"Connection Unavailable":"Data Not Found";O(!0),x(e),j(!1),l()}}))}),[n]),[{result:o,isFetching:h,isError:p,errorType:g},r]}var M=function(){var t=function(){var t=Object(a.useState)("100%"),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(a.useEffect)((function(){var t=document.body.getBoundingClientRect();r(t.height+"px")}),[]),n}(),e=I(),n=Object(i.a)(e,2),r=n[0],c=r.result,s=r.isFetching,o=r.isError,l=r.errorType,u=n[1];return Object(d.jsxs)("div",{className:"App",style:{height:t},children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{children:"IP Address Tracker"}),Object(d.jsx)(h,{onSearch:function(t){""!==t&&u(t)}}),Object(d.jsx)("div",{className:"result-container",children:c&&Object(d.jsx)(b,{info:c})})]}),Object(d.jsx)("div",{className:"map-container",children:Object(d.jsx)(O,{coord:c&&c.coord})}),Object(d.jsx)(N,{show:o,children:l}),Object(d.jsx)(C,{show:s})]})},U=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),r(t),c(t),s(t)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),U()}],[[18,1,2]]]);
//# sourceMappingURL=main.b76424e4.chunk.js.map